(this["webpackJsonptogaj-photography"]=this["webpackJsonptogaj-photography"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__1jl-N",Open:"SideDrawer_Open__3dTbu",Close:"SideDrawer_Close__2cxGr",Logo:"SideDrawer_Logo__3pNKY"}},,,function(e,t,a){e.exports={Photo:"Photo_Photo__3BLrc",Image:"Photo_Image__3pFeH",Button:"Photo_Button__fU1os"}},function(e,t,a){e.exports={Content:"Layout_Content__Ha9AW",header2:"Layout_header2__2T10l",header3:"Layout_header3__eYLed"}},function(e,t,a){e.exports={Input:"input_Input__3ER8c",Label:"input_Label__1GFw7",InputElement:"input_InputElement__2GhBW",Invalid:"input_Invalid__2Q9yQ"}},,,function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__21wBV",DesktopOnly:"Toolbar_DesktopOnly__3KQzU"}},function(e,t,a){e.exports={Gallery:"PhotoData_Gallery__vGcCk",ContactData:"PhotoData_ContactData__3G3Db",DropDown:"PhotoData_DropDown__1oVpo"}},,,,,function(e,t,a){e.exports={Button:"Button_Button__1ozcB",enable:"Button_enable__1JP30",Success:"Button_Success__3RnRB",Danger:"Button_Danger__10DWP"}},function(e,t,a){e.exports={Photos:"Photos_Photos__4Wqgr",Photo:"Photos_Photo__1oQoL"}},,,function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__1ZDqJ",active:"NavigationItem_active__3e2Jy"}},function(e,t,a){e.exports={Gallery:"Gallery_Gallery__1saKQ",PhotoDiv:"Gallery_PhotoDiv__3bzoV"}},function(e,t,a){e.exports={Gallery:"Login_Gallery__3Mi5N",ContactData:"Login_ContactData__2I_ND",Input:"Login_Input__1qH-j"}},function(e,t,a){e.exports={Contact:"Contact_Contact__AG8JO",Form:"Contact_Form__13m6Q",Input:"Contact_Input__221aq",TextArea:"Contact_TextArea__YOfpJ"}},,,,,,,,,,,,,function(e,t,a){e.exports={Loader:"Spinner_Loader__1kJV8",load2:"Spinner_load2__2J08P"}},function(e,t,a){e.exports={Modal:"Modal_Modal__2OoX4"}},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3GkTv"}},function(e,t,a){e.exports={PhotoViewer:"PhotoViewer_PhotoViewer__2KwTg"}},,function(e,t,a){e.exports=a.p+"static/media/togaj_logo.2cf1493e.png"},function(e,t,a){e.exports={Logo:"Logo_Logo__14guc"}},function(e,t,a){e.exports=a.p+"static/media/togaj_logo_edited.8f901228.png"},function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__3RxZJ"}},function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2wHc9"}},,function(e,t,a){e.exports=a(91)},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),l=a.n(r),i=(a(65),a(5)),c=a(4),u=(a(70),a(29)),s=a.n(u),m=function(e){return o.a.createElement("button",{disabled:e.disabled,className:[s.a.Button,s.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},d=(a(71),function(){return o.a.createElement("div",{className:"Landing"},o.a.createElement("img",{src:"https://images.unsplash.com/photo-1506241537529-eefea1fbe44d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",alt:"alt"}),o.a.createElement("div",null,o.a.createElement("div",{className:"welcome-text"},"Welcome To Togaj Photography"),o.a.createElement("div",{className:"Button"},o.a.createElement("a",{href:"/gallery"},o.a.createElement(m,{btnType:"Danger"}," Gallery ")))))}),g=a(3),p=a(49),h=a.n(p),f=function(){return o.a.createElement("div",{className:h.a.Loader},"Loading...")},E=a(50),v=a.n(E),_=function(e){return o.a.createElement("div",null,e.children)},b=a(51),C=a.n(b),y=function(e){return e.show?o.a.createElement("div",{className:C.a.Backdrop,onClick:e.clicked}):null},T=function(e){return o.a.createElement(_,null,o.a.createElement(y,{show:e.show,clicked:e.modalClosed}),o.a.createElement("div",{className:v.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},O=function(e,t){return function(a){var r=function(e){var t=Object(n.useState)(null),a=Object(g.a)(t,2),o=a[0],r=a[1],l=e.interceptors.request.use((function(e){return r(null),e})),i=e.interceptors.response.use((function(e){return e}),(function(e){r(e)}));Object(n.useEffect)((function(){return function(){e.interceptors.request.eject(l),e.interceptors.response.eject(i)}}),[e.interceptors.request,e.interceptors.response,l,i]);return[o,function(){r(null)}]}(t),l=Object(g.a)(r,2),i=l[0],c=l[1];return o.a.createElement(_,null,o.a.createElement(T,{show:i,modalClosed:c},i?i.message:null),o.a.createElement(e,a))}},S=a(8),A=a.n(S),D=a(18),I=a.n(D),N=function(e){return o.a.createElement("div",{className:I.a.Photo},o.a.createElement("img",{src:e.imageUrl,alt:"",className:I.a.Image}),o.a.createElement("button",{className:I.a.Button,onClick:function(){e.viewer(),e.click()}}," View Photo "),e.isAuth&&e.isAdmin&&e.isAuth===e.isAdmin?o.a.createElement("button",{className:I.a.Button,onClick:e.delete}," Delete Photo "):null)},w=a(30),j=a.n(w),k=a(52),P=a.n(k),L=function(e){return o.a.createElement(_,null,o.a.createElement("img",{src:e.imageUrl,alt:"",className:P.a.PhotoViewer}))},x=Object(c.b)((function(e){return{isAuthenticated:null!==e.auth.token,isAdmin:e.auth.isAdmin}}))((function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(""),u=Object(g.a)(c,2),s=u[0],m=u[1],d=Object(n.useState)(!1),p=Object(g.a)(d,2),h=p[0],E=p[1],v=function(e,t){l(e),m(t)},b=function(e){A.a.delete("http://localhost:3001/api/photos/".concat(e)).then((function(e){E(!0)})).catch((function(e){console.log(e),E(!1)}))},C=[];return e.pictures.forEach((function(t){e.sortCategory&&e.sortCategory===t.imageCategory?C.push(o.a.createElement(N,{key:t.id,imageUrl:t.photoUrl,category:t.imageCategory,viewer:e.view,isAuth:e.isAuthenticated,isAdmin:e.isAdmin,click:function(){return v(t.photoUrl,t.id)},delete:function(){return b(t.id)}})):e.sortCategory||C.push(o.a.createElement(N,{key:t.id,imageUrl:t.photoUrl,category:t.imageCategory,viewer:e.view,isAuth:e.isAuthenticated,isAdmin:e.isAdmin,click:function(){return v(t.photoUrl,t.id)},delete:function(){return b(t.id)}}))})),e.loading&&(C=o.a.createElement(f,null)),h&&(C=o.a.createElement(i.a,{to:"/photo"})),o.a.createElement(_,null,o.a.createElement("div",{className:j.a.Photos},o.a.createElement(T,{show:e.viewing,modalClosed:e.viewHandlerClosed},o.a.createElement(L,{imageUrl:r,imageID:s})),o.a.createElement("div",{className:j.a.Photo},C)))})),U=a(19),H=a.n(U),B=a(54),G=a.n(B),F=a(23),q=a.n(F),V=a(55),R=a.n(V),J=a(56),M=a.n(J),W=function(e){return o.a.createElement("div",{className:R.a.Logo,style:{height:e.height,width:e.width}},o.a.createElement("img",{src:M.a,alt:""}))},Y=a(57),Q=a.n(Y),z=a(14),K=a(33),X=a.n(K),Z=function(e){return o.a.createElement("li",{className:X.a.NavigationItem},o.a.createElement(z.b,{to:e.link,exact:e.exact,activeClassName:X.a.active},e.children))},$=function(e){return o.a.createElement("ul",{className:Q.a.NavigationItems},o.a.createElement(Z,{link:"/",exact:!0}," Home "),o.a.createElement(Z,{link:"/gallery"}," Gallery "),o.a.createElement(Z,{link:"/about"}," About "),o.a.createElement(Z,{link:"/contact"}," Contact "),e.isAuthenticated&&e.isAdminUser&&e.isAuthenticated===e.isAdminUser?o.a.createElement(Z,{link:"/photo"}," ADD+ "):null,e.isAuthenticated?o.a.createElement(Z,{link:"/logout"},"Logout"):o.a.createElement(Z,{link:"/login"},"Authenticate"))},ee=a(58),te=a.n(ee),ae=function(e){return o.a.createElement("div",{className:te.a.DrawerToggle,onClick:e.clicked},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))},ne=function(e){return o.a.createElement("header",{className:q.a.Toolbar},o.a.createElement(ae,{clicked:e.drawerToggleClicked}),o.a.createElement("div",{className:q.a.DesktopOnly},o.a.createElement(W,null)),o.a.createElement("nav",{className:q.a.DesktopOnly},o.a.createElement($,{isAuthenticated:e.isAuth,isAdminUser:e.isAdmin})))},oe=a(15),re=a.n(oe),le=function(e){var t=[re.a.SideDrawer,re.a.Close];return e.open&&(t=[re.a.SideDrawer,re.a.Open]),o.a.createElement(_,null,o.a.createElement(y,{show:e.open,clicked:e.closed}),o.a.createElement("div",{className:t.join(" ")},o.a.createElement("div",{className:re.a.Logo},o.a.createElement(W,null)),o.a.createElement("nav",null,o.a.createElement($,{isAuthenticated:e.isAuth}))))},ie=Object(c.b)((function(e){return{isAuthenticated:null!==e.auth.token,isAdmin:e.auth.isAdmin}}))((function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],l=a[1],i=o.a.createElement("header",{className:H.a.header2},o.a.createElement("span",{onClick:function(){return e.sort("Weddings")}},"Weddings"),o.a.createElement("span",{onClick:function(){return e.sort("Birthdays")}},"Birthdays"),o.a.createElement("span",{onClick:function(){return e.sort("Graduations")}},"Graduations"),o.a.createElement("span",{onClick:function(){return e.sort("Others")}},"Others"));return e.uploading&&(i=o.a.createElement("header",{className:H.a.header3},o.a.createElement("h4",null,e.header))),e.contact&&(i=o.a.createElement("header",{className:H.a.header3},o.a.createElement("h4",null,e.header))),o.a.createElement(_,null,o.a.createElement(ne,{isAuth:e.isAuthenticated,isAdmin:e.isAdmin,img:G.a,drawerToggleClicked:function(){l(!r)}}),o.a.createElement(le,{open:r,closed:function(){l(!1)},isAuth:e.isAuthenticated}),i,o.a.createElement("main",{className:H.a.Content},e.children))})),ce=a(34),ue=a.n(ce),se=function(e,t,a){return{type:"AUTH_SUCCESS",idToken:e,userId:t,isAdmin:a}},me=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userId"),localStorage.removeItem("isAdmin"),{type:"AUTH_LOGOUT"}},de=function(e){return function(t){setTimeout((function(){t(me())}),1e3*e)}},ge=Object(c.b)((function(e){return{pictures:e.photo.pictures,loading:e.photo.loading}}),(function(e){return{onFetch:function(){return e((function(e){e({type:"FETCH_START"}),A.a.get("http://localhost:3001/api/photos").then((function(t){var a=[];t.data.forEach((function(e){a.push({id:e._id,photoUrl:e.photoUrl,imageCategory:e.imageCategory})})),e({type:"FETCH_SUCCESS",pictures:a})})).catch((function(t){e({type:"FETCH_FAIL",error:t})}))}))}}}))(O((function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],l=a[1],i=e.pictures,c=e.loading,u=e.onFetch,s=Object(n.useState)(""),m=Object(g.a)(s,2),d=m[0],p=m[1];Object(n.useEffect)((function(){u()}),[u]);var h=o.a.createElement(f,null);i&&(h=o.a.createElement(x,{pictures:i,sortCategory:d,view:function(){l(!0)},loading:c,viewing:r,viewHandlerClosed:function(){l(!1)}}));return o.a.createElement("div",{className:ue.a.Gallery},o.a.createElement(ie,{sort:function(e){p(e)}},o.a.createElement("div",{className:ue.a.PhotoDiv},h)))}),A.a)),pe=a(24),he=a.n(pe),fe=Object(c.b)((function(e){return{filePath:e.photo.filePath,imageCategory:e.photo.imageCategory,loading:e.photo.loading,submitted:e.photo.submitted,token:e.auth.token}}),(function(e){return{onPost:function(t,a){return e(function(e,t){return function(a){a({type:"POST_PHOTO_START"}),A.a.post("http://localhost:3001/api/photos",e,{headers:{"Content-type":"multi-part/form-data",Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data,n=t.filePath,o=t.imageCategory;a(function(e,t){return{type:"POST_PHOTO_SUCCESS",filePath:e,imageCategory:t}}(n,o))})).catch((function(e){a(function(e){return{type:"POST_PHOTO_FAIL",error:e}}(e))}))}}(t,a))}}}))((function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(""),u=Object(g.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)("Choose File"),h=Object(g.a)(p,2),E=h[0],v=h[1],_=Object(n.useState)(),b=Object(g.a)(_,2),C=b[0],y=b[1],T=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){y(t.result)}},O=null;return e.loading&&(O=o.a.createElement(f,null)),e.submitted&&(O=o.a.createElement(i.a,{to:"/gallery"})),o.a.createElement("div",{className:he.a.Gallery},o.a.createElement(ie,{uploading:!0,header:"UPLOAD A PHOTOGRAPH"},o.a.createElement("div",{className:he.a.ContactData},o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=new FormData;a.append("file",r),a.append("imageCategory",s),e.onPost(a,e.token)}},o.a.createElement("div",{className:"custom-file mb-4"},o.a.createElement("input",{required:!0,type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){var t=e.target.files[0];l(e.target.files[0]),v(e.target.files[0].name),T(t)}}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},E),o.a.createElement("div",{className:he.a.DropDown},o.a.createElement("select",{id:"inputState",className:"form-control",onChange:function(e){d(e.target.value)}},o.a.createElement("option",null,"Select Category..."),o.a.createElement("option",null,"Weddings"),o.a.createElement("option",null,"Birthdays"),o.a.createElement("option",null,"Graduations"),o.a.createElement("option",null,"Others")))),o.a.createElement(m,{btnType:"Danger"},"SUBMIT")))),C&&o.a.createElement("img",{src:C,alt:"chosen",style:{height:"300px"}}),O)})),Ee=a(12),ve=a(35),_e=a.n(ve),be=a(20),Ce=a.n(be),ye=function(e){var t=null,a=[Ce.a.InputElement];switch(e.inValid&&e.shouldValidate&&e.touched&&a.push(Ce.a.Invalid),e.elementType){case"input":case"file":case"password":t=o.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=o.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=o.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=o.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return o.a.createElement("div",{className:Ce.a.Input},o.a.createElement("label",{className:Ce.a.Label},e.label),t)},Te=Object(c.b)((function(e){return{loading:e.auth.loading,submitted:e.auth.submitted,error:e.auth.error}}),(function(e){return{onAuth:function(t,a,n,o){return e(function(e,t,a,n){return function(o){o({type:"AUTH_START"});var r={email:e,password:t,adminCode:a},l="http://localhost:3001/api/auth/signup";return n||(l="http://localhost:3001/api/auth/login"),A.a.post(l,r).then((function(e){try{var t=new Date((new Date).getTime()+36e5);localStorage.setItem("token",e.data.token),localStorage.setItem("expirationTime",t),localStorage.setItem("userId",e.data.userId),localStorage.setItem("isAdmin",e.data.isAdmin),o(se(e.data.token,e.data.userId,e.data.isAdmin)),o(de(3600))}catch(a){console.log(e),console.log(a),console.log("I got here!"+a.error)}})).catch((function(e){console.log(e),o(function(e){return{type:"AUTH_FAIL",error:e}}(e))}))}}(t,a,n,o))}}}))(O((function(e){var t=Object(n.useState)({adminData:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Input your Email"},value:"",validation:{required:!0},valid:!1,touched:!1},password:{elementType:"password",elementConfig:{type:"password",placeholder:"Input your Password"},value:"",validation:{required:!0,minLength:6,maxLength:16},valid:!1,touched:!1},adminCode:{elementType:"password",elementConfig:{type:"password",placeholder:"Admin Passcode"},value:"",validation:{required:!0,minLength:4,maxLength:6},valid:!1,touched:!1}}}),a=Object(g.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),u=Object(g.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(!0),h=Object(g.a)(p,2),E=h[0],v=h[1],_=null,b=null;e.loading&&(_=o.a.createElement(f,null)),e.submitted&&(_=o.a.createElement(i.a,{to:"/gallery"})),e.error&&(b=o.a.createElement("p",null,e.error));var C=[];for(var y in r.adminData)C.push({id:y,config:r.adminData[y]});return o.a.createElement("div",{className:_e.a.Gallery},o.a.createElement(ie,{uploading:!0,header:"LOGIN"},o.a.createElement("div",{className:_e.a.ContactData},b,o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onAuth(r.adminData.email.value,r.adminData.password.value,r.adminData.adminCode.value,E)}},C.map((function(e){return o.a.createElement(ye,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,inValid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=Object(Ee.a)({},r.adminData),n=Object(Ee.a)({},a[t]);n.value=e.target.value,n.valid=function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),a}(n.value,n.validation),n.touched=!0,a[t]=n;for(var o in a)o=a[o].valid&&!0;l({adminData:a}),d(!0)}(t,e.id)}})})),o.a.createElement(m,{btnType:"Success",disabled:!s},"SUBMIT")),o.a.createElement(m,{clicked:function(){v(!E)},btnType:"Danger"},"SWITCH TO ",E?"SIGNIN":"SIGNUP"))),_)}),A.a)),Oe=Object(c.b)(null,(function(e){return{onLogout:function(){return e(me())}}}))((function(e){return Object(n.useEffect)((function(){e.onLogout()}),[e]),o.a.createElement(i.a,{to:"/"})})),Se=a(36),Ae=a.n(Se),De=a(25),Ie=a(26),Ne=Object(c.b)((function(e){return{userId:e.contact.userId,loading:e.contact.loading,submitted:e.contact.submitted}}),(function(e){return{onContact:function(t){return e((a=t,function(e){e({type:"CONTACT_START"}),A.a.post("http://localhost:3001/api/contact",a).then((function(t){console.log(t),e({type:"CONTACT_SUCCESS",userId:t.data.messageId})})).catch((function(t){console.log(t),e({type:"FETCH_FAIL",error:t})}))}));var a}}}))((function(e){var t=Object(n.useState)({contactData:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validation:{required:!0},valid:!1,touched:!1},phoneNumber:{elementType:"input",elementConfig:{type:"tel",placeholder:"Your Phone Number"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your Email"},value:"",validation:{required:!0},valid:!1,touched:!1},message:{elementType:"textarea",elementConfig:{type:"password",placeholder:"Your Message"},value:"",validation:{required:!0},valid:!1,touched:!1}}}),a=Object(g.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),u=Object(g.a)(c,2),s=u[0],d=u[1],p=null,h=null;e.loading&&(p=o.a.createElement(f,null)),e.submitted&&(h="Your message with Id of ".concat(e.userId," has been submitted successfully"),p=o.a.createElement(i.a,{to:"/gallery"}));var E=[];for(var v in r.contactData)E.push({id:v,config:r.contactData[v]});return o.a.createElement(_,null,o.a.createElement(ie,{contact:!0,header:"Please Contact Us"},o.a.createElement("div",{className:Ae.a.Contact},o.a.createElement("div",null,o.a.createElement("p",null,"Ogun, Nigeria")),o.a.createElement("div",null,o.a.createElement(De.a,{icon:Ie.c})," (+234) 80 998 239 86 ",o.a.createElement("br",null),o.a.createElement(De.a,{icon:Ie.b})," Togajphotography21@gmail.com ",o.a.createElement("br",null),o.a.createElement(De.a,{icon:Ie.a}),"  Always Open"),o.a.createElement("div",{className:Ae.a.Form},h,o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={name:r.contactData.name.value,phoneNumber:r.contactData.phoneNumber.value,email:r.contactData.email.value,message:r.contactData.message.value};e.onContact(a)}},E.map((function(e){return o.a.createElement(ye,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,inValid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=Object(Ee.a)({},r.contactData),n=Object(Ee.a)({},a[t]);n.value=e.target.value,n.valid=function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),a}(n.value,n.validation),n.touched=!0,a[t]=n;for(var o in a)o=a[o].valid&&!0;l({contactData:a}),d(!0)}(t,e.id)}})})),o.a.createElement(m,{btnType:"Success",disabled:!s},"Contact US")),p))))})),we=Object(i.g)(Object(c.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignUp:function(){return e((function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("isAdmin");if(t){var n=new Date(localStorage.getItem("expirationTime"));if(n<new Date)e(me());else{var o=localStorage.getItem("userId");e(se(t,o,a)),e(de((n.getTime()-(new Date).getTime())/1e3))}}else e(me())}))}}}))((function(e){Object(n.useEffect)((function(){e.onTryAutoSignUp()}));var t=o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/gallery",component:ge}),o.a.createElement(i.b,{path:"/login",component:Te}),o.a.createElement(i.b,{path:"/logout",component:Oe}),o.a.createElement(i.b,{path:"/contact",component:Ne}),o.a.createElement(i.b,{path:"/",exact:!0,component:d}),o.a.createElement(i.a,{to:"/"}));return e.isAuthenticated&&(t=o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/gallery",component:ge}),o.a.createElement(i.b,{path:"/login",component:Te}),o.a.createElement(i.b,{path:"/photo",component:fe}),o.a.createElement(i.b,{path:"/contact",component:Ne}),o.a.createElement(i.b,{path:"/logout",component:Oe}),o.a.createElement(i.b,{path:"/",exact:!0,component:d}),o.a.createElement(i.a,{to:"/"}))),o.a.createElement("div",{className:"App"},t)}))),je=a(13),ke=function(e,t){return Object(Ee.a)({},e,{},t)},Pe={pictures:null,filePath:null,imageCategory:null,error:null,loading:null,submitted:!1,filename:null,filepath:null},Le=function(e,t){return ke(e,{loading:!0,submitted:!1})},xe=function(e,t){return ke(e,{pictures:t.pictures,loading:!1})},Ue=function(e,t){return ke(e,{error:t.error,loading:!1})},He=function(e,t){return ke(e,{loading:!0,submitted:!1})},Be=function(e,t){return ke(e,{loading:!1,submitted:!0,filePath:t.filePath,imageCategory:t.imageCategory})},Ge=function(e,t){return ke(e,{error:t.error,loading:!1,submitted:!1})},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_START":return Le(e);case"FETCH_SUCCESS":return xe(e,t);case"FETCH_FAIL":return Ue(e,t);case"POST_PHOTO_START":return He(e);case"POST_PHOTO_SUCCESS":return Be(e,t);case"POST_PHOTO_FAIL":return Ge(e,t);default:return e}},qe={token:null,userId:null,isAdmin:null,error:null,loading:null,submitted:null},Ve=function(e,t){return ke(e,{error:!1,loading:!0,submitted:!1})},Re=function(e,t){return ke(e,{token:t.idToken,userId:t.userId,isAdmin:"true"===t.isAdmin,error:null,loading:!1,submitted:!0})},Je=function(e,t){return ke(e,{error:t.error,loading:!1,submitted:!1})},Me=function(e,t){return ke(e,{token:null,userId:null,submitted:!1})},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Ve(e);case"AUTH_SUCCESS":return Re(e,t);case"AUTH_FAIL":return Je(e,t);case"AUTH_LOGOUT":return Me(e);default:return e}},Ye={userId:null,error:null,loading:null,submitted:null},Qe=function(e,t){return ke(e,{error:!1,loading:!0,submitted:!1})},ze=function(e,t){return ke(e,{userId:t.userId,error:null,loading:!1,submitted:!0})},Ke=function(e,t){return ke(e,{error:t.error,loading:!1,submitted:!1})},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTACT_START":return Qe(e);case"CONTACT_SUCCESS":return ze(e,t);case"CONTACT_FAIL":return Ke(e,t);default:return e}},Ze=a(59),$e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d,et=Object(je.c)({photo:Fe,auth:We,contact:Xe}),tt=Object(je.e)(et,$e(Object(je.a)(Ze.a))),at=o.a.createElement(c.a,{store:tt},o.a.createElement(z.a,null,o.a.createElement(we,null)));l.a.render(o.a.createElement(o.a.StrictMode,null,at),document.getElementById("root"))}],[[60,1,2]]]);
//# sourceMappingURL=main.d0759381.chunk.js.map